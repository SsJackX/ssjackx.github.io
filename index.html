<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">

    

    

    <title>SsJackX</title>
    <meta name="author" content="SsJackX">
    <meta name="version" content="1.0.0">
    <meta name="keywords" content>
    <meta name="description" content>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">

    
    
    <link rel="icon" href="/images/favicon.ico">
    

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <main class="app">
        <header class="header clearfix">
    <div id="nav" class="nav">
    <div class="nav-mobile">
        <button id="open-panel" class="open-panel nav-mobile-item"><i class="icon-documents"></i></button>
        <h1 class="nav-mobile-title nav-mobile-item">SsJackX</h1>
        <button id="open-menus" class="open-panel nav-mobile-item"><i class="icon-library"></i></button>
    </div>

    <nav id="nav-inner" class="nav-inner">
        
            <a class="nav-item active" href="/">
                <span class="nav-text">首页</span>
            </a>
        
            <a class="nav-item" href="/tags">
                <span class="nav-text">标签</span>
            </a>
        
            <a class="nav-item" href="/archives">
                <span class="nav-text">归档</span>
            </a>
        
            <a class="nav-item" href="/about">
                <span class="nav-text">关于</span>
            </a>
        
    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>

        
        

        
        <div class="author-meta">
            
            <div class="author-avatar">
                <a href="/">
                    <img src="/images/avatar.jpg" title="SsJackX">
                </a>
            </div>
            
            <div class="author-name">SsJackX</div>
            <div class="author-work">云计算研究与开发</div>
            <div class="author-location">
                <i class="icon-location vm"></i>
                <span class="vm">福州, 中国</span>
            </div>
            
            <div class="author-thread-wrap">
                <div class="author-threads clearfix">
                    
                        <a class="thread-item" href="https://github.com/ssjackx" target="_blank" rel="noopener">
                            <!-- Generated by IcoMoon.io -->
<svg viewbox="0 0 1024 1024" width="38" height="38" fill="currentColor">
<path d="M512 32.12c-265.004 0-479.88 220.23-479.88 492.090 0 217.446 137.536 401.684 328.202 466.81 23.994 4.498 32.778-10.712 32.778-23.78 0-11.782-0.428-42.632-0.642-83.764-133.466 29.778-161.744-65.984-161.744-65.984-21.852-56.772-53.344-71.982-53.344-71.982-43.49-30.636 3.214-29.992 3.214-29.992 48.202 3.428 73.482 50.772 73.482 50.772 42.846 75.196 112.258 53.558 139.68 40.918 4.284-31.706 16.71-53.558 30.42-65.77-106.474-12.426-218.516-54.63-218.516-243.152 0-53.772 18.638-97.69 49.274-131.966-4.928-12.426-21.424-62.556 4.714-130.252 0 0 40.276-13.282 131.966 50.344 38.348-10.926 79.266-16.282 120.184-16.496 40.704 0.214 81.836 5.57 120.184 16.496 91.692-63.626 131.752-50.344 131.752-50.344 26.136 67.698 9.64 117.828 4.714 130.252 30.636 34.492 49.274 78.408 49.274 131.966 0 188.952-112.258 230.514-219.16 242.724 17.138 15.21 32.564 45.202 32.564 91.048 0 65.77-0.642 118.898-0.642 134.966 0 13.068 8.57 28.492 32.992 23.566 191.094-64.912 328.418-249.152 328.418-466.382 0-271.86-214.874-492.090-479.88-492.090z"/>
</svg>

                        </a>
                    
                        <a class="thread-item" href="http://weibo.com/ssjackx" target="_blank" rel="noopener">
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1566654079576" class="icon" viewbox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2338" xmlns:xlink="http://www.w3.org/1999/xlink" width="200.1953125" height="200"><defs><style type="text/css"/></defs><path d="M511.9535 63.941187c-247.458725 0-448.062313 200.602588-448.062313 448.061313 0 247.453725 200.603588 448.057313 448.062313 448.057313 247.453725 0 448.052313-200.603588 448.052313-448.057313C960.005813 264.543775 759.407225 63.941187 511.9535 63.941187L511.9535 63.941187zM470.406378 735.326154c-114.514335 0-231.571678-55.497163-231.571678-146.77843 0-47.72214 30.232089-102.906301 82.306241-154.983454 69.523204-69.506204 150.599441-101.167296 181.093531-70.660207 13.454039 13.437039 14.757043 36.716108 6.107018 64.506189-4.504013 13.997041 13.138038 6.244018 13.138038 6.278018 56.197165-23.528069 105.222308-24.916073 123.142361 0.688002 9.562028 13.64204 8.647025 32.776096-0.166 54.950161-4.078012 10.21503 1.256004 11.796035 9.026026 14.129041 31.665093 9.816029 66.907196 33.559098 66.907196 75.400221C720.390111 648.104899 620.530818 735.326154 470.406378 735.326154L470.406378 735.326154zM677.718986 445.086304c3.706011-11.441034 1.385004-24.485072-7.248021-34.0541-8.624025-9.552028-21.373063-13.176039-33.131097-10.693031L637.339867 400.317173c-9.809029 2.137006-19.472057-4.159012-21.575063-13.959041-2.111006-9.838029 4.154012-19.515057 13.985041-21.609063 24.05307-5.111015 50.106147 2.321007 67.748198 21.895064 17.682052 19.575057 22.413066 46.235135 14.853044 69.626204-3.086009 9.573028-13.344039 14.787043-22.904067 11.728034-9.560028-3.095009-14.788043-13.365039-11.706034-22.917067l-0.018 0L677.718986 445.086304zM783.742296 479.324404c-0.004 0.018-0.004 0.06-0.004 0.081-3.599011 11.095033-15.523045 17.16905-26.610078 13.57904-11.133033-3.595011-17.21505-15.489045-13.62504-26.610078l-0.004-0.009c11.027032-34.1401 4.035012-73.082214-21.715064-101.628298-25.772076-28.554084-63.770187-39.461116-98.88529-32.003094-11.420033 2.431007-22.651066-4.856014-25.088074-16.267048-2.444007-11.397033 4.838014-22.638066 16.258048-25.083073l0.021 0c49.359145-10.492031 102.829301 4.829014 139.085407 45.025132C789.439313 376.562103 799.213341 431.303264 783.742296 479.324404L783.742296 479.324404zM783.742296 479.324404" p-id="2339"/><path d="M624.54883 570.13167c-5.924017-59.970176-84.807248-101.273297-176.195516-92.23827-91.371268 9.034026-160.659471 64.97919-154.723453 124.959366 5.936017 60.001176 84.814248 101.304297 176.195516 92.28627C561.213644 686.09901 630.476847 630.149846 624.54883 570.13167L624.54883 570.13167zM528.526548 619.374815c-18.647055 42.179124-72.288212 64.669189-117.792345 49.991146-43.932129-14.176042-62.532183-57.556169-43.298127-96.632283 18.890055-38.315112 68.035199-59.984176 111.517327-48.671143C523.957535 535.692569 546.920602 578.144694 528.526548 619.374815L528.526548 619.374815zM528.526548 619.374815" p-id="2340"/><path d="M435.544276 587.23972c-14.147041-5.932017-32.439095 0.166-41.170121 13.860041-8.838026 13.74904-4.693014 30.126088 9.359027 36.525107 14.254042 6.509019 33.179097 0.329001 42.022123-13.77104 8.680025-14.241042 4.107012-30.511089-10.20603-36.614107L435.544276 587.23972zM435.544276 587.23972" p-id="2341"/><path d="M470.419378 572.780678c-5.428016-2.154006-12.219036 0.457001-15.404045 5.796017-3.090009 5.368016-1.384004 11.484034 4.057012 13.71904 5.534016 2.278007 12.599037-0.350001 15.796046-5.812017C477.9194 580.982702 475.937394 574.798684 470.419378 572.780678L470.419378 572.780678zM470.419378 572.780678" p-id="2342"/></svg>
                        </a>
                    
                        <a class="thread-item" href="https://more.com/ssjackx" target="_blank" rel="noopener">
                            <!-- Generated by IcoMoon.io -->
<svg viewbox="0 0 1024 1024" width="38" height="38" fill="currentColor">
<path d="M21.332 512c0-270.988 219.68-490.666 490.668-490.666s490.666 219.68 490.666 490.666c0 270.988-219.678 490.666-490.666 490.666s-490.666-219.678-490.666-490.666zM960 512c0-247.424-200.576-448-448-448s-448 200.576-448 448c0 247.424 200.576 448 448 448s448-200.576 448-448zM768 597.332c47.128 0 85.332-38.206 85.332-85.332s-38.206-85.332-85.332-85.332c-47.128 0-85.332 38.204-85.332 85.332s38.206 85.332 85.332 85.332zM512 597.332c47.128 0 85.332-38.206 85.332-85.332s-38.206-85.332-85.332-85.332c-47.128 0-85.332 38.204-85.332 85.332s38.204 85.332 85.332 85.332zM255.998 597.332c47.128 0 85.332-38.206 85.332-85.332s-38.204-85.332-85.332-85.332c-47.128 0-85.332 38.204-85.332 85.332s38.204 85.332 85.332 85.332z"/>
</svg>

                        </a>
                    
                </div>
            </div>
            
        </div>
        
    </div>
</aside>

</header>

        <div id="content" class="content">
    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2019/08/25/基于StorageClass动态供应Kubernetes集群存储/">基于StorageClass动态供应Kubernetes集群存储(RBD)</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://yoursite.com/index.html">
    
    <i class="icon-calendar"></i>
    
    <time datetime="2019-08-25T11:19:48.000Z" itemprop="datePublished">2019-08-25</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag"></i>
    <a class="article-tag-link" href="/tags/ceph/">ceph</a>, <a class="article-tag-link" href="/tags/kubernetes/">kubernetes</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <h2 id="1-存储类概述"><a href="#1-存储类概述" class="headerlink" title="1 存储类概述"></a>1 存储类概述</h2><p>Kubernetes集群管理员通过提供不同的存储类，可以满足用户不同的服务质量级别、备份策略和任意策略要求的存储需求。动态存储卷供应使用StorageClass进行实现，其允许存储卷按需被创建。如果没有动态存储供应，Kubernetes集群的管理员将不得不通过手工的方式创建新的存储卷。通过动态存储卷，Kubernetes将能够按照用户的需要，自动创建其需要的存储。</p>
<p>基于StorageClass的动态存储供应整体过程如下所示：</p>
<p><img src="/2019/08/25/基于StorageClass动态供应Kubernetes集群存储/1565921563376.png" alt="基于StorageClass的动态存储供应整体过程"></p>
<h2 id="2-定义存储类"><a href="#2-定义存储类" class="headerlink" title="2 定义存储类"></a>2 定义存储类</h2><p>每个存储类都包含：provisioner、parameters和reclaimPlolicy这三个参数域，当属于某个类的PersistentVolume需要被动态提供时，将会使用上述的参数域。</p>
<p>存储类对象的名称非常重要，用户通过对象名称请求特定的存储类。管理员创建存储类对象时，会设置类的名称和其它的参数，存储类的对象一旦被创建，将不能被更新。管理员能够为PVC指定一个默认的存储类。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">kind: StorageClass</span><br><span class="line">apiVersion: storage.k8s.io/v1</span><br><span class="line">metadata:</span><br><span class="line">  name: standard</span><br><span class="line"># 指定存储类的供应者</span><br><span class="line">provisioner: kubernetes.io/aws-ebs</span><br><span class="line">parameters:</span><br><span class="line">  type: gp2</span><br><span class="line"># 指定回收策略</span><br><span class="line">reclaimPolicy: Retain</span><br><span class="line">mountOptions:</span><br><span class="line">  - debug</span><br></pre></td></tr></table></figure>

<h3 id="2-1-存储分配器"><a href="#2-1-存储分配器" class="headerlink" title="2.1 存储分配器"></a>2.1 存储分配器</h3><p>存储类有一个存储分配器的参数域，此参数域决定PV使用什么存储卷插件。</p>
<p>参数必需进行设置：</p>
<table>
<thead>
<tr>
<th align="left">存储卷</th>
<th align="left">内置存储分配器</th>
<th align="left">配置示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">AWSElasticBlockStore</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#aws-ebs" target="_blank" rel="noopener">AWS EBS</a></td>
</tr>
<tr>
<td align="left">AzureFile</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#azure-file" target="_blank" rel="noopener">Azure File</a></td>
</tr>
<tr>
<td align="left">AzureDisk</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#azure-disk" target="_blank" rel="noopener">Azure Disk</a></td>
</tr>
<tr>
<td align="left">CephFS</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">Cinder</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#openstack-cinder" target="_blank" rel="noopener">OpenStack Cinder</a></td>
</tr>
<tr>
<td align="left">FC</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">Flexvolume</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">Flocker</td>
<td align="left">✓</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">GCEPersistentDisk</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#gce-pd" target="_blank" rel="noopener">GCE PD</a></td>
</tr>
<tr>
<td align="left">Glusterfs</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#glusterfs" target="_blank" rel="noopener">Glusterfs</a></td>
</tr>
<tr>
<td align="left">iSCSI</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">Quobyte</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#quobyte" target="_blank" rel="noopener">Quobyte</a></td>
</tr>
<tr>
<td align="left">NFS</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">RBD</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#ceph-rbd" target="_blank" rel="noopener">Ceph RBD</a></td>
</tr>
<tr>
<td align="left">VsphereVolume</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#vsphere" target="_blank" rel="noopener">vSphere</a></td>
</tr>
<tr>
<td align="left">PortworxVolume</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#portworx-volume" target="_blank" rel="noopener">Portworx Volume</a></td>
</tr>
<tr>
<td align="left">ScaleIO</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#scaleio" target="_blank" rel="noopener">ScaleIO</a></td>
</tr>
<tr>
<td align="left">StorageOS</td>
<td align="left">✓</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#storageos" target="_blank" rel="noopener">StorageOS</a></td>
</tr>
<tr>
<td align="left">Local</td>
<td align="left">-</td>
<td align="left"><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#local" target="_blank" rel="noopener">Local</a></td>
</tr>
</tbody></table>
<p>Kubernetes的存储类并不局限于表中的“interneal”存储分配器，“interneal”存储分配器的名称带有“kubernetes.io”前缀；也可以允许和指定外部的存储分配器，外部存储分配器通过独立的程序进行实现。外部存储分配器的作者对代码在何处生存、如何供应、如何运行、使用什么卷插件（包括Flex）等有充分的判断权，kubernetes-incubator/external-storage仓库中存在编写外部存储分配器的类库。例如，NFS不是内部的存储分配器，但也是可以使用。在kubernetes-incubator/external-storage仓库中以列表的形式展示了一些外部的存储分配器，一些第三方供应商也提供了他们自己的外部存储分配器。</p>
<h3 id="2-2-参数"><a href="#2-2-参数" class="headerlink" title="2.2 参数"></a>2.2 参数</h3><p>存储类存在很多描述存储卷的参数，依赖不同的存储分配器可能有不同的参数。例如，对于type参数，它的值可能为gp2。当参数被省略，则使用默认的值。</p>
<p>Ceph分布式存储RBD示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">kind: StorageClass</span><br><span class="line">apiVersion: storage.k8s.io/v3</span><br><span class="line">metadata:</span><br><span class="line">  name: fast</span><br><span class="line">provisioner: kubernetes.io/rbd</span><br><span class="line">parameters:</span><br><span class="line">  monitors: 30.36.353.305:6789</span><br><span class="line">  adminId: kube</span><br><span class="line">  adminSecretName: ceph-secret</span><br><span class="line">  adminSecretNamespace: kube-system</span><br><span class="line">  pool: kube</span><br><span class="line">  userId: kube</span><br><span class="line">  userSecretName: ceph-secret-user</span><br><span class="line">  fsType: ext4</span><br><span class="line">  imageFormat: &quot;2&quot;</span><br><span class="line">  imageFeatures: &quot;layering&quot;</span><br></pre></td></tr></table></figure>

<p>参数说明：</p>
<ul>
<li>monitors：ceph monitor，逗号分隔，该参数是必需的。</li>
<li>adminId：ceph客户端ID，用于在（ceph pool）中创建镜像。默认：admin</li>
<li>adminSecretNamespace：adminSecret的namespaces。默认：default</li>
<li>adminSecret：adminId的Secret名称，该参数是必需的。提供的secret必须有值为”kubernetes.io/rbd”的type参数。</li>
<li>pool：ceph RBD池，默认是：”rbd”。</li>
<li>userId：ceph客户端ID，用于映射RBD镜像（RBD IMAGE），默认：与adminId相同。</li>
<li>userSecretName：用于映射RBD镜像的userId的ceph secret名字。它必须与PVC存在于相同的namespace中，该参数是必需的。提供的secret必须具有值为”kubernetes.io/rbd”的type参数，创建方式如下：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl create secret generic ceph-secret --type=&quot;kubernetes.io/rbd&quot; \</span><br><span class="line">  --from-literal=key=&apos;QVFEQ1pMdFhPUnQrSmhBQUFYaERWNHJsZ3BsMmNjcDR6RFZST0E9PQ==&apos; \</span><br><span class="line">  --namespace=kube-system</span><br></pre></td></tr></table></figure>

<ul>
<li>fsType：kubernetes支持的fsType，默认：”ext4”。</li>
<li>imageFormat：ceph RBD镜像格式，”1”或”2”，默认值是”1”。</li>
<li>imageFeatures：这个参数是可选的，需要将imageFormat设置为”2”才能使用。当前支持的功能只有layering，默认：” “，功能不打开。</li>
</ul>
<h3 id="2-3-回收策略"><a href="#2-3-回收策略" class="headerlink" title="2.3 回收策略"></a>2.3 回收策略</h3><p>通过存储类创建的持久化存储卷通过reclaimPolicy参数来指定回收策略，它的值可以是Delete或者Retain，默认为Delete。对于通过手工创建的，并使用存储类进行管理的持久化存储卷，将使用任何在创建时指定的存储卷。</p>
<h3 id="2-4-挂载选项"><a href="#2-4-挂载选项" class="headerlink" title="2.4 挂载选项"></a>2.4 挂载选项</h3><p>通过存储类动态创建的持久化存储卷，会存在一个通过mountOptions参数指定的挂载选择。如果存储卷插件不支持指定的挂载选项，则分配存储就会失败，在存储类或者PV中都不会对挂载选项进行验证，因此需要在设置时进行确认。</p>
<h2 id="3-使用StorageClass"><a href="#3-使用StorageClass" class="headerlink" title="3 使用StorageClass"></a>3 使用StorageClass</h2><p>动态存储卷分配，基于StorageClass的API对象来实现，集群管理员能够按需定义StorageClass对象，每一个StorageClass对象能够指定一个存储卷插件（即存储分配器）。集群管理员能够在一个集群中定义各种存储卷分配器，用户不需要了解存储的细节和复杂性，就能够选择符合自己要求的存储。</p>
<h3 id="3-1-启用动态存储分配"><a href="#3-1-启用动态存储分配" class="headerlink" title="3.1 启用动态存储分配"></a>3.1 启用动态存储分配</h3><p>为了启用动态存储分配，集群管理员需要预先为用户创建一个或者多个存储类对象。存储类对象定义了使用哪个存储分配器，以及存储分配器相关的参数。下面是存储类的一个示例，它创建一个名称为slow的存储类，使用gce存储分配器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: storage.k8s.io/v1</span><br><span class="line">kind: StorageClass</span><br><span class="line">metadata:</span><br><span class="line">  name: slow</span><br><span class="line">provisioner: kubernetes.io/gce-pd</span><br><span class="line">parameters:</span><br><span class="line">  type: pd-standard</span><br></pre></td></tr></table></figure>

<p>下面创建了一个名为“fast”的存储类，其提供类似固态磁盘的存储卷磁盘：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: storage.k8s.io/v1</span><br><span class="line">kind: StorageClass</span><br><span class="line">metadata:</span><br><span class="line">  name: fast</span><br><span class="line">provisioner: kubernetes.io/gce-pd</span><br><span class="line">parameters:</span><br><span class="line">  type: pd-ssd</span><br></pre></td></tr></table></figure>

<h3 id="3-2-使用动态存储"><a href="#3-2-使用动态存储" class="headerlink" title="3.2 使用动态存储"></a>3.2 使用动态存储</h3><p>用户通过在PersistentVolumeClaim中包含一个存储类，来请求动态供应存储。在Kubernetes v1.6之前的版本，通过volume.beta.kubernetes.io/storage-class注释类请求动态供应存储；在v1.6版本之后，用户应该使用PersistentVolumeClaim对象的storageClassName参数来请求动态存储。</p>
<p>下面是请求fast存储类的持久化存储卷声明的YAML配置文件示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: PersistentVolumeClaim</span><br><span class="line">metadata:</span><br><span class="line">  name: claim1</span><br><span class="line">spec:</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line"># 指定所使用的存储类，此存储类将会自动创建符合要求的PV</span><br><span class="line"> storageClassName: fast</span><br><span class="line"> resources:</span><br><span class="line">    requests:</span><br><span class="line">      storage: 30Gi</span><br></pre></td></tr></table></figure>

<p>此声明将使用类似于固态存储磁盘，当持久化存储卷声明被删除后，存储卷也将会被销毁。</p>
<h3 id="3-3-默认动作"><a href="#3-3-默认动作" class="headerlink" title="3.3 默认动作"></a>3.3 默认动作</h3><p>如果Kubernetes的集群中没有指定存储类，集群管理员可以通过执行下面的设置，启用默认的存储类：</p>
<ul>
<li>标记一个默认的StorageClass对象；</li>
<li>确定API server中DefaultStorage接入控制器已被启用</li>
</ul>
<p>管理员能够通过添加storageclass.kubernetes.io/is-default-class注释，标记一个特定的StorageClass作为默认的存储类。在集群中，如果存在一个默认的StorageClass，系统将能够在不指定storageClassName 的情况下创建一个PersistentVolume，DefaultStorageClass接入控制器会自动将storageClassName指向默认的存储类。</p>
<p>注意：在一个集群中，最多只能有一个默认的存储类，如果没有默认的存储类，那么如果在PersistentVolumeClaim中没有显示指定storageClassName，则将无法创建PersistentVolume。</p>
<h2 id="4-Ceph-RBD存储类示例"><a href="#4-Ceph-RBD存储类示例" class="headerlink" title="4 Ceph RBD存储类示例"></a>4 Ceph RBD存储类示例</h2><h3 id="4-1-部署rbd-provisioner"><a href="#4-1-部署rbd-provisioner" class="headerlink" title="4.1 部署rbd-provisioner"></a>4.1 部署rbd-provisioner</h3><p>为StorageClass选择存储分配器名称，并在deployment.yaml文件内进行设置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">env:</span><br><span class="line">        - name: PROVISIONER_NAME</span><br><span class="line">          value: ceph.com/rbd</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><strong>rbd存储分配器实例完整部署文件内容如下所示：</strong></p>
<blockquote>
<p>ns.yaml</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Namespace</span><br><span class="line">metadata:</span><br><span class="line">  name: ceph</span><br></pre></td></tr></table></figure>

<blockquote>
<p>role.yaml</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">kind: Role</span><br><span class="line">metadata:</span><br><span class="line">  name: rbd-provisioner</span><br><span class="line">rules:</span><br><span class="line">- apiGroups: [&quot;&quot;]</span><br><span class="line">  resources: [&quot;secrets&quot;]</span><br><span class="line">  verbs: [&quot;get&quot;]</span><br><span class="line">- apiGroups: [&quot;&quot;]</span><br><span class="line">  resources: [&quot;endpoints&quot;]</span><br><span class="line">  verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;update&quot;, &quot;patch&quot;]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>rolebinding.yaml</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">kind: RoleBinding</span><br><span class="line">metadata:</span><br><span class="line">  name: rbd-provisioner</span><br><span class="line">roleRef:</span><br><span class="line">  apiGroup: rbac.authorization.k8s.io</span><br><span class="line">  kind: Role</span><br><span class="line">  name: rbd-provisioner</span><br><span class="line">subjects:</span><br><span class="line">- kind: ServiceAccount</span><br><span class="line">  name: rbd-provisioner</span><br><span class="line">  namespace: ceph</span><br></pre></td></tr></table></figure>

<blockquote>
<p>clusterrole.yaml</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">kind: ClusterRole</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">metadata:</span><br><span class="line">  name: rbd-provisioner</span><br><span class="line">rules:</span><br><span class="line">  - apiGroups: [&quot;&quot;]</span><br><span class="line">    resources: [&quot;persistentvolumes&quot;]</span><br><span class="line">    verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;delete&quot;]</span><br><span class="line">  - apiGroups: [&quot;&quot;]</span><br><span class="line">    resources: [&quot;persistentvolumeclaims&quot;]</span><br><span class="line">    verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;update&quot;]</span><br><span class="line">  - apiGroups: [&quot;storage.k8s.io&quot;]</span><br><span class="line">    resources: [&quot;storageclasses&quot;]</span><br><span class="line">    verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;]</span><br><span class="line">  - apiGroups: [&quot;&quot;]</span><br><span class="line">    resources: [&quot;events&quot;]</span><br><span class="line">    verbs: [&quot;create&quot;, &quot;update&quot;, &quot;patch&quot;]</span><br><span class="line">  - apiGroups: [&quot;&quot;]</span><br><span class="line">    resources: [&quot;services&quot;]</span><br><span class="line">    resourceNames: [&quot;kube-dns&quot;,&quot;coredns&quot;]</span><br><span class="line">    verbs: [&quot;list&quot;, &quot;get&quot;]</span><br><span class="line">  - apiGroups: [&quot;&quot;]</span><br><span class="line">    resources: [&quot;endpoints&quot;]</span><br><span class="line">    verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;update&quot;, &quot;patch&quot;]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>clusterrolebinding.yaml</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">kind: ClusterRoleBinding</span><br><span class="line">apiVersion: rbac.authorization.k8s.io/v1</span><br><span class="line">metadata:</span><br><span class="line">  name: rbd-provisioner</span><br><span class="line">subjects:</span><br><span class="line">  - kind: ServiceAccount</span><br><span class="line">    name: rbd-provisioner</span><br><span class="line">    namespace: ceph</span><br><span class="line">roleRef:</span><br><span class="line">  kind: ClusterRole</span><br><span class="line">  name: rbd-provisioner</span><br><span class="line">  apiGroup: rbac.authorization.k8s.io</span><br></pre></td></tr></table></figure>

<blockquote>
<p>serviceaccount.yaml</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: ServiceAccount</span><br><span class="line">metadata:</span><br><span class="line">  name: rbd-provisioner</span><br><span class="line">  namespace: ceph</span><br></pre></td></tr></table></figure>

<blockquote>
<p>deployment.yaml</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: rbd-provisioner</span><br><span class="line">  namespace: ceph</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  strategy:</span><br><span class="line">    type: Recreate</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: rbd-provisioner</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: rbd-provisioner</span><br><span class="line">        imagePullPolicy: IfNotPresent</span><br><span class="line">        image: &quot;quay.io/external_storage/rbd-provisioner:latest&quot;</span><br><span class="line">        env:</span><br><span class="line">        - name: PROVISIONER_NAME # 定义存储分配器名称，存储类通过此名称指定存储分配器</span><br><span class="line">          value: ceph.com/rbd</span><br><span class="line">      serviceAccount: rbd-provisioner</span><br></pre></td></tr></table></figure>

<p>在kubernetes集群部署rbd-provisioner资源：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># kubectl create -f ns.yaml</span><br><span class="line"># kubectl create -f role.yaml</span><br><span class="line"># kubectl create -f rolebinding.yaml</span><br><span class="line"># kubectl create -f clusterrole.yaml</span><br><span class="line"># kubectl create -f clusterrolebinding.yaml</span><br><span class="line"># kubectl create -f serviceaccount.yaml</span><br><span class="line"># kubectl create -f deployment.yaml</span><br></pre></td></tr></table></figure>

<h3 id="4-2-Ceph集群访问授权"><a href="#4-2-Ceph集群访问授权" class="headerlink" title="4.2 Ceph集群访问授权"></a>4.2 Ceph集群访问授权</h3><p>将ceph集群访问所需的配置文件与密钥拷贝至rbd-provisioner容器实例的/etc/ceph/目录下，操作如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># kubectl cp ceph.conf &lt;rbd-provisioner-pod&gt;:/etc/ceph</span><br><span class="line"># kubectl cp ceph.client.admin.keyring &lt;rbd-provisioner-pod&gt;:/etc/ceph</span><br></pre></td></tr></table></figure>

<h3 id="4-3-创建StorageClass实例"><a href="#4-3-创建StorageClass实例" class="headerlink" title="4.3 创建StorageClass实例"></a>4.3 创建StorageClass实例</h3><p>以下是StorageClass资源配置文件，此配置文件定义了名称为standard的存储类，此存储类的分配器为ceph.com/rbd。</p>
<blockquote>
<p>defaultStorageClass.yaml</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">kind: StorageClass</span><br><span class="line">apiVersion: storage.k8s.io/v1</span><br><span class="line">metadata:</span><br><span class="line">  name: standard</span><br><span class="line">provisioner: ceph.com/rbd</span><br><span class="line">parameters:</span><br><span class="line">  monitors: 192.168.22.201:6789,192.168.22.202:6789,192.168.22.203:6789</span><br><span class="line">  adminId: admin</span><br><span class="line">  adminSecretName: ceph-secret</span><br><span class="line">  pool: rbd</span><br><span class="line">  userId: admin</span><br><span class="line">  userSecretName: ceph-secret</span><br><span class="line">  fsType: ext4</span><br><span class="line">  imageFormat: &quot;2&quot;</span><br><span class="line">  imageFeatures: layering</span><br></pre></td></tr></table></figure>

<p>使用StorageClass资源配置文件，通过kubectl create -f命令创建StorageClass实例。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># kubectl create -f defaultStorageClass.yaml</span><br></pre></td></tr></table></figure>

<p>在存储实例被正确创建后，就可以创建PersistenetVolumeClaim来请求StorageClass，而StorageClass将会为PersistenetVolumeClaim自动创建一个可用PersistentVolume。</p>
<h3 id="4-4-创建PersistenetVolumeClaim实例"><a href="#4-4-创建PersistenetVolumeClaim实例" class="headerlink" title="4.4 创建PersistenetVolumeClaim实例"></a>4.4 创建PersistenetVolumeClaim实例</h3><p>PersistenetVolumeClaim是对PersistenetVolume的声明，即PersistenetVolume为存储的提供者，而PersistenetVolumeClaim为存储的消费者。下面是PersistentVolumeClaim的资源配置文件，此配置文件通过<em>spec.storageClassName</em>字段指定所使用的存储储类。</p>
<p>在此配置文件中，使用<em>standard</em>存储实例为PersistenetVolumeClaim创建PersistenetVolume，所要求的PersistenetVolume存储空间大小为1Gi，仅支持单个容器进行读取和写入操作。</p>
<blockquote>
<p>testStorageClass-pvc.yaml</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: PersistentVolumeClaim</span><br><span class="line">metadata:</span><br><span class="line">  name: fight-pvc</span><br><span class="line">  namespace: kube-system</span><br><span class="line">spec:</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  storageClassName: standard</span><br><span class="line">  resources:</span><br><span class="line">    requests:</span><br><span class="line">      storage: 1Gi</span><br></pre></td></tr></table></figure>

<p>通过kubectl create命令创建上述的持久化存储卷声明。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># kubectl create -f testStorageClass-pvc.yaml</span><br></pre></td></tr></table></figure>

<h3 id="4-5-部署使用PersistenetVolumeClaim的Pod实例"><a href="#4-5-部署使用PersistenetVolumeClaim的Pod实例" class="headerlink" title="4.5 部署使用PersistenetVolumeClaim的Pod实例"></a>4.5 部署使用PersistenetVolumeClaim的Pod实例</h3><p>定义名为testStorageClass的Pod资源配置文件，使用的镜像为busybox。基于busybox镜像的容器需要对<strong>/usr/share/busybox</strong>目录下的数据进行持久化，在YAML文件指定使用名称为fight-pvc的PersistenVolumeClaim对容器的数据进行持久化。</p>
<p>testStorageClass.yaml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: fight</span><br><span class="line">  namespace: kube-system</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        name: fight</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: fight</span><br><span class="line">        image: busybox</span><br><span class="line">        command: [&quot;sleep&quot;, &quot;60000&quot;]</span><br><span class="line">        volumeMounts:</span><br><span class="line">        - mountPath: /usr/share/busybox</span><br><span class="line">          name: ceph-rbd-vol1</span><br><span class="line">      volumes:</span><br><span class="line">      - name: ceph-rbd-vol1</span><br><span class="line">        persistentVolumeClaim:</span><br><span class="line">            claimName: fight-pvc</span><br></pre></td></tr></table></figure>

<p>通过kubectl create创建名为fight的部署实例。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># kubectl create -f testStorageClass.yaml</span><br></pre></td></tr></table></figure>

<h2 id="5-参考文档"><a href="#5-参考文档" class="headerlink" title="5 参考文档"></a>5 参考文档</h2><ul>
<li><a href="https://kubernetes.io/docs/concepts/storage/storage-classes/" target="_blank" rel="noopener">《Storage Classes》</a></li>
<li><a href="https://kubernetes.io/docs/concepts/storage/dynamic-provisioning/" target="_blank" rel="noopener">《Dynamic Volume Provisioning》</a></li>
<li><a href="https://github.com/kubernetes-incubator/external-storage/tree/master/ceph/rbd" target="_blank" rel="noopener">《rbd-provisioner》</a></li>
</ul>

        
    </section>
</article>





</div>
        <footer class="footer">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme by <a href="https://github.com/sanonz/hexo-theme-concise" target="_blank">Concise</a>

    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?fded653635670b2690fabd9b5dc72f08";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    
</footer>

    </main>

    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.9.0/jquery.min.js"></script>
    <script type="text/javascript">
    $(function() {
        var nodes = {
            nav: $('#nav'),
            aside: $('#aside'),
            asideInner: $('#aside-inner'),
            navInner: $('#nav-inner')
        };

        var doing = false;
        nodes.asideInner.on('webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend', function() {
            if (nodes.aside.hasClass('mobile-open')) {
                nodes.aside.removeClass('mobile-open');
            } else {
                nodes.aside.removeClass('mobile-close panel-show');
            }
            doing = false;
        });
        $('#open-panel, #aside-mask').on('click', function() {
            if (doing) {
                return;
            }
            
            if (nodes.aside.hasClass('panel-show')) {
                nodes.aside.addClass('mobile-close');
            } else {
                nodes.aside.addClass('mobile-open panel-show');
            }
        });
        $('#open-menus').on('click', function() {
            nodes.navInner.slideToggle();
        });

        if (window.innerWidth <= 960) {
            setTimeout(function() {
                nodes.navInner.slideUp();
            }, 3000);
        }
    });
    </script>
    

</body>
</html>
